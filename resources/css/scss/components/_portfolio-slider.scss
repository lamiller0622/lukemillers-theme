@use "../globals" as *;

html,
body {
  overflow-x: hidden;
}

.slider-center {
    height: 75vh;
    place-items: center;
    padding-block: clamp(32px, 8vh, 120px) 0;
    position: relative;
    isolation: isolate;
    border-bottom: solid 1px;
}

.floor{
  height: 25vh;
  place-items: center;
  place-content: center;
  .wood-floor{
    height: 75%;
    width: 100%;
    background: repeating-linear-gradient(84deg, $text-dark 0, $text-dark 1px, $light 1px, $light 50px);
    background-size: 50px;
    position: relative;
    place-items: center;
    place-content: center;
  }
  .panelling{
    height: 25%;
    width: 100%;
    background: repeating-linear-gradient(90deg, $text-dark 0, $text-dark 1px, $white 1px, $white 15px);
    background-size: 15px;
    margin-top: 10px;
    border-top: solid 1px;
    border-bottom: solid 1px;
  }
}

.glide-portfolio {
  --radius: 22px;
  --shadow: 0 24px 60px rgba(0, 0, 0, .22);
  --active-shadow: 0 40px 100px rgba(0, 0, 0, .28);

  position: relative;
  width: 100%;
  max-width: 100vw;
  overflow: visible;
  touch-action: pan-y;
  overscroll-behavior-x: contain;
  z-index: 1;
  box-shadow: none;
  padding-left: 0;
  padding-right: 0;
  padding-bottom: 20px;
  height: 100%;
/*  place-items: center;*/

  .glide__track {
    overflow: visible;
    height: 100%;
    place-content: center;
  }

  .glide__slides {
    perspective: 1000px;
    gap: 0;
    list-style: none;
    margin: 0;
    padding: 0; 
    place-items: center;
    height: 100%;
  }

  .glide__slide {
    transform: none !important;
    margin: 0;
  }

  .slide {
    width: auto;
    position: relative;
    transform-style: preserve-3d;
    transition: transform .5s ease, filter .5s ease, box-shadow .5s ease;
    background: transparent;
    z-index: 1;
    isolation: isolate;
    /*display: flex;
    flex-direction: column;
    align-items: center;
    overflow: visible;
    justify-content: center;*/
    place-items: center;
    place-content: center;
    height: 100%;

    &__image {
      height: max-content;
      overflow: hidden;
      width: auto;
      max-height: 80%;
      border: solid 5px;
      object-fit: fill;
      object-position: top center;
      filter: saturate(.95) contrast(1.05);
      transition: transform .7s ease, filter .5s ease;
    }

    &__overlay {
      position: absolute;
      inset: 0;
/*      background: linear-gradient(to top, rgba(0, 0, 0, .6), rgba(0, 0, 0, 0) 60%);*/
      pointer-events: none;
    }

    &__content {
      background: #e3d9cf;
      display: inline-table;
      margin-top: 1rem;
      padding: .5rem 1rem;
      overflow: visible;
      border: solid;
      z-index: 2;
      float: right;

    }

    &__title {
      margin: 0 0 6px;
      font-weight: 700;
      font-size: clamp(18px, 1vw, 28px);
      color: $text-dark;
    }

    &__meta {
      font-size: 13px;
      opacity: .9;
    }

    &__badge {
      position: absolute;
      top: 14px;
      left: 14px;
      background: rgba(17, 17, 24, .7);
      color: #e5e7eb;
      font-size: 12px;
      padding: 6px 10px;
      border-radius: 999px;
      backdrop-filter: blur(6px);
      border: 1px solid rgba(255, 255, 255, .08);
    }

    &__link {
      position: absolute;
      inset: 0;
      z-index: 3;
    }

    &.is-active {
      transform: translateZ(-90px);
      z-index: 20;

      .slide__image {
/*        transform: scale(1.06);*/
        filter: saturate(1.05) contrast(1.08);
      }
    }

    &.is-prev {
      transform: translateX(-10%) rotateY(20deg) scale(.92);
      z-index: 10;
      filter: brightness(.95);
    }

    &.is-next {
      transform: translateX(10%) rotateY(-20deg) scale(.92);
      z-index: 10;
      filter: brightness(.95);
    }

    &.is-2prev {
      transform: translateX(-22%) rotateY(28deg) scale(.86);
      z-index: 5;
      opacity: .8;
    }

    &.is-2next {
      transform: translateX(22%) rotateY(-28deg) scale(.86);
      z-index: 5;
      opacity: .8;
    }
  }

  [data-glide-el="controls"] {
    position: absolute;
    inset: 0;
    pointer-events: none;

    .glide__arrow {
      pointer-events: auto;
      position: absolute;
      top: 50%;
      transform: translateY(-50%);
      background: rgba(17, 17, 24, .65);
      border: 1px solid rgba(255, 255, 255, .08);
      color: #fff;
      width: 44px;
      height: 44px;
      border-radius: 999px;
      display: grid;
      place-items: center;
      box-shadow: 0 10px 30px rgba(0, 0, 0, .25);
      transition: transform .2s ease, background .2s ease;

      &--left {
        left: 12px;
      }

      &--right {
        right: 12px;
      }

      &:hover {
        transform: translateY(-50%) translateY(-2px);
        background: rgba(17, 17, 24, .85);
      }
    }
  }

  .glide__bullets {
    bottom: -28px;

    .glide__bullet {
      width: 8px;
      height: 8px;
      border-radius: 999px;
      background: rgba(7, 19, 47, .35);
      transition: width .2s ease, background .2s ease;

      &--active {
        width: 22px;
        background: $text-dark;
      }
    }
  }
}

@media (max-width: 1024px) {
  .glide-portfolio {
    --gap: 28px;
  }
}

@media (max-width: 768px) {
  .glide-portfolio {
    --gap: 22px;
    --card-w: 40vw;
    --card-h: 58vw;
  }
}

@media (max-width: 900px) {
  .glide-portfolio .slide.is-active { transform: scale(1.03); }
  .glide-portfolio .slide.is-prev  { transform: translateX(-6%) rotateY(14deg) scale(.95); }
  .glide-portfolio .slide.is-next  { transform: translateX( 6%) rotateY(-14deg) scale(.95); }
}

/*.signhome {
  display:inline-block;
  text-decoration:none;
  --sign-stroke: #111;
  --sign-fill: #fff;
}

.signhome__svg {
  display:block;
  max-width: 12rem; 
  margin-top: -50%;
}

.signhome__svg .signhome__board path { fill: var(--sign-fill); stroke: var(--sign-stroke); }
.signhome__svg rect, 
.signhome__svg path { stroke: none; }

.signhome:hover .signhome__board { animation: sign-wobble .6s ease; transform-origin: 120px 100px; }
@keyframes sign-wobble {
  0%   { transform: rotate(0deg); }
  20%  { transform: rotate(-3deg); }
  50%  { transform: rotate(2deg); }
  100% { transform: rotate(0deg); }
}
@media (prefers-reduced-motion: reduce){
  .signhome:hover .signhome__board { animation: none; }
}*/
