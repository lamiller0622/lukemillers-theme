/* --------------------- Cursor gating (safe) --------------------- */
@media (pointer: fine) {
  html.robot-cursor-ready,
  body.robot-cursor-ready { cursor: none; }
}

/* --------------------- Host element ----------------------------- */
#robot-cursor {
  position: fixed;
  left: 0;
  top: 0;
  width: 64px;
  height: 64px;
  transform: translate(-50%, -50%);
  z-index: 9999;
  pointer-events: none;
  opacity: 0;                     
  transition: opacity .2s ease;
}

/* Hover flourish (subtle scale) */
.cursor-hover #robot-cursor,
html.robot-wave #robot-cursor {
  transform: translate(-50%, -50%) scale(1.06);
}

/* --------------------- SVG hygiene ------------------------------ */
#robot-svg {
  image-rendering: pixelated;
  overflow: visible;             
}

/* Blink eyelid (JS toggles height) */
#eyelid {
  transform-box: fill-box;
  transform-origin: 50% 0%;
  transition: height .08s ease;
}

/* Optional antenna pulse (keep if your SVG has #antenna) */
@keyframes antenna-pulse {
  0%, 100% { opacity: .5; }
  50%      { opacity: 1;  }
}
#antenna { animation: antenna-pulse 1.2s ease-in-out infinite; }

/* --------------------- Idle motion (head/body/arms/antenna only) */
#bot-bounce {
  transform-box: fill-box;
  transform-origin: 8px 10px;     
  animation: robot-bounce-tilt 2.0s cubic-bezier(.22,.61,.36,1) infinite;
  will-change: transform;
}

/* Your smooth alternating tilt while bouncing */
@keyframes robot-bounce-tilt {
  0%   { transform: translateY(0)    rotate(0deg);  }
  25%  { transform: translateY(-5px) rotate(-2deg); }
  50%  { transform: translateY(0)    rotate(0deg);  }
  75%  { transform: translateY(-5px) rotate( 2deg); }
  100% { transform: translateY(0)    rotate(0deg);  }
}

/* Slightly quicker while waving */
html.robot-wave #bot-bounce { animation-duration: 1.2s; }

/* --------------------- Arm wave (right arm) --------------------- */
@keyframes robot-arm-wave {
  0%   { transform: translate(0, 0) rotate(0deg); }
  50%  { transform: translate(0,-1px) rotate(-6deg); }
  100% { transform: translate(0, 0) rotate(0deg); }
}
html.robot-wave #arm-right {
  transform-box: fill-box;
  transform-origin: 12px 11px;    
  animation: robot-arm-wave .45s ease-in-out infinite;
}

/* --------------------- Optional shadow (under-bounce) ----------- */
#robot-shadow {
  position: absolute;
  left: 0;
  top: 0;
  transform: translate(-50%, calc(-50% + 36px));  
  pointer-events: none;
  transition: opacity .2s ease;
  animation: robot-shadow 2.0s cubic-bezier(.22,.61,.36,1) infinite;
}
@keyframes robot-shadow {
  0%, 100% { transform: translate(-50%, calc(-50% + 36px)) scaleX(1);   opacity: .25; }
  50%      { transform: translate(-50%, calc(-50% + 36px)) scaleX(.9);  opacity: .18; }
}
html.robot-wave #robot-shadow { animation-duration: 1.7s; }

/* --------------------- Reduced motion --------------------------- */
@media (prefers-reduced-motion: reduce) {
  #robot-cursor { transition: none; }
  #bot-bounce,
  #antenna,
  #robot-shadow,
  html.robot-wave #arm-right { animation: none !important; }
}
